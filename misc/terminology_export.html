<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Exporting terminology - Localization at Mozilla - Internal Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../products/android-l10n/index.html"><strong aria-hidden="true">2.</strong> Android-l10n</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../products/android-l10n/adding_projects.html"><strong aria-hidden="true">2.1.</strong> Adding projects</a></li><li class="chapter-item expanded "><a href="../products/android-l10n/updating_locales.html"><strong aria-hidden="true">2.2.</strong> Updating locales</a></li><li class="chapter-item expanded "><a href="../products/android-l10n/review_android_strings.html"><strong aria-hidden="true">2.3.</strong> Reviewing new strings</a></li><li class="chapter-item expanded "><a href="../products/android-l10n/removing_projects.html"><strong aria-hidden="true">2.4.</strong> Removing projects</a></li></ol></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/index.html"><strong aria-hidden="true">3.</strong> Firefox Desktop</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../products/firefox_desktop/adding_pontoon.html"><strong aria-hidden="true">3.1.</strong> Add to Pontoon</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/adding_nightly.html"><strong aria-hidden="true">3.2.</strong> Nightly builds</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/adding_release.html"><strong aria-hidden="true">3.3.</strong> Beta/Release builds</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/setup_searchplugins.html"><strong aria-hidden="true">3.4.</strong> Searchplugins</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/removing_locales.html"><strong aria-hidden="true">3.5.</strong> Removing locales</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/review.html"><strong aria-hidden="true">3.6.</strong> Review strings</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/fluent_migrations.html"><strong aria-hidden="true">3.7.</strong> Fluent migrations</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/build_system.html"><strong aria-hidden="true">3.8.</strong> Build system</a></li><li class="chapter-item expanded "><a href="../products/firefox_desktop/firefox_l10n_faqs.html"><strong aria-hidden="true">3.9.</strong> L10N FAQs</a></li></ol></li><li class="chapter-item expanded "><a href="../localization/index.html"><strong aria-hidden="true">4.</strong> Localization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../localization/making_string_changes.html"><strong aria-hidden="true">4.1.</strong> Change existing strings</a></li><li class="chapter-item expanded "><a href="../localization/dev_best_practices.html"><strong aria-hidden="true">4.2.</strong> Best practices for developers</a></li><li class="chapter-item expanded "><a href="../localization/globalization_best_practices.html"><strong aria-hidden="true">4.3.</strong> Globalization best practices for product managers</a></li></ol></li><li class="chapter-item expanded "><a href="../products/iOS_products/index.html"><strong aria-hidden="true">5.</strong> iOS Products</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../products/iOS_products/updating_locales.html"><strong aria-hidden="true">5.1.</strong> Updating locales</a></li><li class="chapter-item expanded "><a href="../products/iOS_products/review_iOSstrings.html"><strong aria-hidden="true">5.2.</strong> Reviewing new strings</a></li></ol></li><li class="chapter-item expanded "><a href="../products/other/index.html"><strong aria-hidden="true">6.</strong> Other Projects</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/index.html"><strong aria-hidden="true">7.</strong> Pontoon</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tools/pontoon/adding_new_project.html"><strong aria-hidden="true">7.1.</strong> New project</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/renaming_a_project.html"><strong aria-hidden="true">7.2.</strong> Renaming a project</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/adding_new_short_term_project.html"><strong aria-hidden="true">7.3.</strong> New short-term project</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/adding_new_locale.html"><strong aria-hidden="true">7.4.</strong> New locale</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/managing_pretranslation.html"><strong aria-hidden="true">7.5.</strong> Pretranslation</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/sending_notifications.html"><strong aria-hidden="true">7.6.</strong> Notifications</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/renaming_a_file.html"><strong aria-hidden="true">7.7.</strong> Renaming a localization file</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/deactivating_users.html"><strong aria-hidden="true">7.8.</strong> Deactivating users</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/removing_users.html"><strong aria-hidden="true">7.9.</strong> Removing users</a></li><li class="chapter-item expanded "><a href="../tools/pontoon/adding_new_terminology.html"><strong aria-hidden="true">7.10.</strong> New terminology</a></li></ol></li><li class="chapter-item expanded "><a href="../tools/mercurial/index.html"><strong aria-hidden="true">8.</strong> Mercurial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tools/mercurial/setting_mercurial_environment.html"><strong aria-hidden="true">8.1.</strong> Set up the environment</a></li><li class="chapter-item expanded "><a href="../tools/mercurial/creating_mercurial_patch.html"><strong aria-hidden="true">8.2.</strong> Create a patch</a></li><li class="chapter-item expanded "><a href="../tools/mercurial/useful_mercurial_commands.html"><strong aria-hidden="true">8.3.</strong> Useful Mercurial commands</a></li></ol></li><li class="chapter-item expanded "><a href="../misc/index.html"><strong aria-hidden="true">9.</strong> Other docs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../misc/creating_new_repository.html"><strong aria-hidden="true">9.1.</strong> New l10n repository</a></li><li class="chapter-item expanded "><a href="../misc/working_w_l10n_agency.html"><strong aria-hidden="true">9.2.</strong> How to work with a Localization Agency</a></li><li class="chapter-item expanded "><a href="../misc/documentation_styleguide.html"><strong aria-hidden="true">9.3.</strong> Documentation styleguide</a></li><li class="chapter-item expanded "><a href="../misc/stock_emails.html"><strong aria-hidden="true">9.4.</strong> Stock emails</a></li><li class="chapter-item expanded "><a href="../misc/terminology_export.html" class="active"><strong aria-hidden="true">9.5.</strong> Exporting terminology</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Localization at Mozilla - Internal Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/mozilla-l10n/documentation/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/mozilla-l10n/documentation/edit/main/src/misc/terminology_export.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="exporting-terminology"><a class="header" href="#exporting-terminology">Exporting terminology</a></h1>
<p>When new terminology is added to Pontoon, we may want to ensure that those latest terms are added to our vendor platform Smartling. The <a href="https://github.com/mozilla-l10n/terminology_management/tree/main/scripts/tbx_merge">TBX Merge tool</a> can be used to export all terminology for a defined set of locales and merged into a single .tbx file for import into Smartling.</p>
<h2 id="tbx-merge-tool-documentation"><a class="header" href="#tbx-merge-tool-documentation">TBX Merge tool documentation</a></h2>
<p>The tbx_merge tool exports, merges, and prepares terminology for import into Smartling via a tbx (v2) file.</p>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<p>To run the script you will need the following:</p>
<ul>
<li>Python (tested working on version 3.10)</li>
<li>requests module</li>
<li>List of locales you wish to extract from Pontoon (see &quot;locales.txt&quot; for example)</li>
</ul>
<p><em><strong>If importing terms into an existing glossary on Smartling</strong></em></p>
<ul>
<li>A tbx format glossary export from Smartling</li>
</ul>
<h2 id="syntax"><a class="header" href="#syntax">Syntax</a></h2>
<p>Call tbx_merge.py from your command line, with the following arguments:</p>
<p>--locales <em>filepath</em><br />
(<em><strong>Required</strong></em>) Designate the filepath of a .txt file that contains the list of Pontoon locale codes (separated by newline) you would like to extract from Pontoon and merge.</p>
<p>--id-format (<em>smartling, new, pontoon</em>)<br />
Select from one of three strategies for dealing with termEntry IDs.</p>
<p><em>smartling</em>: This will apply the UID Smartling uses to manage glossary terms to any Pontoon terms that match. Any terms not in Smartling will have their Pontoon ID removed for import into Smartling as a new term. This requires a tbx file exported from Smartling to match and assign IDs. The file will need to be identified by the separate argument --smartling.
<strong>Note:</strong> This script uses the term and definition to match between Pontoon and Smartling. Any manual changes made to either a term or definition in either Pontoon or Smartling will cause the script to flag it as a new term.<br />
Outputs: smartling_merge_glossary.tbx</p>
<p><em>new</em>: This will remove all Pontoon IDs for all termEntry elements, causing all terminology to be treated as a new term upon import into Smartling. Typically this would be used if creating a new glossary from scratch.<br />
Outputs: smartling_new_glossary.tbx</p>
<p><em>pontoon</em>: This will preserve all Pontoon IDs. Smartling will not be able to import the resulting file as Smartling requires the UIDs to be assigned by its platform.<br />
Outputs: pontoon_glossary_multilingual.tbx</p>
<p>--smartling <em>filepath</em><br />
(<em><strong>Required if --id-format smartling argument selected</strong></em>) Designate the filepath of a .tbx file exported from Smartling.</p>
<h2 id="importing-terminology-into-smartling"><a class="header" href="#importing-terminology-into-smartling">Importing terminology into Smartling</a></h2>
<p>Terminology is managed in within Linguistic Assets section of Account Settings. After logging in select <code>Account Settings</code> &gt; <code>Linguistic Assets</code>, from there on the left hand menu select <code>Glossaries</code>.</p>
<p>From there select a glossary you would like to update, or create a new one, then import terminology by selecting <code>...</code> &gt; <code>Import Glossary</code>.</p>
<h3 id="importing-into-a-new-glossary"><a class="header" href="#importing-into-a-new-glossary">Importing into a new glossary</a></h3>
<p>Use the following steps to import into a new glossary (or a glossary that does not contain any registered terms).</p>
<ol>
<li>Create a locales.txt file with your desired locales separated on newlines, saved to <em>path</em>.</li>
<li>Run tbx_merge from the commandline (ensure you have the requests module installed):</li>
</ol>
<pre><code>$ python tbx_merge.py --locales path/locales.txt --id-format new
</code></pre>
<ol start="3">
<li>Within Smartling, select the glossary you wish to import terms into and choose <code>...</code> &gt; <code>Import Glossary</code>.</li>
<li>Choose the file exported by tbx_merge. In this case it will be named: <code>smartling_new_glossary.tbx</code></li>
<li>Smartling will display which languages and the number of terms that will be updated. Click <code>Import</code> to finish the import.<br />
<strong>Note</strong>: Even the Smartling shows all languages in the import file on import, only terms from languages specified in Current Glossary Languages will actually be imported. You can add more languages to the glossary in Smartling by choosing <code>...</code> &gt; <code>Add Language</code>.</li>
</ol>
<h3 id="updating-an-existing-glossary"><a class="header" href="#updating-an-existing-glossary">Updating an existing glossary</a></h3>
<p>The steps are mostly the same, as before, but you will need to first export the target glossary from Smartling as a tbx file.</p>
<ol>
<li>Within Smartling, select the glossary you wish to import terms into and choose <code>...</code> &gt; <code>Export Glossary</code>. For Download File Type choose <code>TBX V2 Core</code> and from the Languages dropdown select <code>Select displayed results (n)</code> to choose all target languages in the glossary. Save <em>glossary</em> file to <em>path</em>. Note: You must always include the source &quot;en-US&quot; locale when exporting from Smartling.</li>
<li>Create a locales.txt file with your desired locales separated on newlines, saved to <em>path</em>.</li>
<li>Run tbx_merge from the commandline (ensure you have the requests module installed):</li>
</ol>
<pre><code>$ python tbx_merge.py --locales path/locales.txt --id-format smartling --smartling path/glossary.tbx
</code></pre>
<ol start="4">
<li>Within Smartling, select the glossary you wish to import terms into and choose <code>...</code> &gt; <code>Import Glossary</code>.</li>
<li>Choose the file exported by tbx_merge. In this case it will be named: <code>smartling_merge_glossary.tbx</code></li>
<li>Smartling will display which languages and the number of terms that will be updated. Click <code>Import</code> to finish the import.<br />
<strong>Note</strong>: Even the Smartling shows all languages in the import file on import, only terms from languages specified in Current Glossary Languages will actually be imported. You can add more languages to the glossary in Smartling by choosing <code>...</code> &gt; <code>Add Language</code>.</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../misc/stock_emails.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../misc/stock_emails.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
